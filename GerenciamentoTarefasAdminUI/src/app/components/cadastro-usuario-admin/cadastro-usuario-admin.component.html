<div class="container">
  <!-- Formulário para criar um novo usuário -->
  <h2>Cadastrar Novo Usuário</h2>
  <form (ngSubmit)="criarUsuario()" #usuarioForm="ngForm">
    <div class="form-group">
      <label for="nome">Nome:</label>
      <input
        type="text"
        id="nome"
        name="nome"
        class="form-control"
        required
        [(ngModel)]="novoUsuario.nome"
        #nome="ngModel"
      />
      <div *ngIf="nome.invalid && nome.touched" class="alert alert-danger">
        O nome é obrigatório.
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email:</label>
      <input
        type="email"
        id="email"
        name="email"
        class="form-control"
        required
        [(ngModel)]="novoUsuario.email"
        #email="ngModel"
      />
      <div *ngIf="email.invalid && email.touched" class="alert alert-danger">
        Um email válido é obrigatório.
      </div>
    </div>

    <div class="form-group">
      <label for="senha">Senha:</label>
      <input
        type="password"
        id="senha"
        name="senha"
        class="form-control"
        required
        [(ngModel)]="novoUsuario.senha"
        #senha="ngModel"
      />
      <div *ngIf="senha.invalid && senha.touched" class="alert alert-danger">
        A senha é obrigatória.
      </div>
    </div>

    <button
      type="submit"
      class="btn btn-primary"
      [disabled]="usuarioForm.invalid"
    >
      Cadastrar Usuário
    </button>
  </form>

  <!-- Lista de usuários -->
  <h2 class="mt-4">Usuários Cadastrados</h2>
  <ul class="list-group">
    <li
      class="list-group-item"
      *ngFor="let usuario of usuarios"
      (click)="selecionarUsuario(usuario.id)"
      [class.active]="usuarioSelecionado?.id === usuario.id"
    >
      {{ usuario.nome }} - {{ usuario.email }}
    </li>
  </ul>

  <!-- Opções para o usuário selecionado -->
  <div *ngIf="usuarioSelecionado" class="mt-4">
    <h3>Editar Usuário: {{ usuarioSelecionado.nome }}</h3>

    <form (ngSubmit)="atualizarUsuario(usuarioSelecionado.id)">
      <div class="form-group">
        <label for="nome">Nome:</label>
        <input
          type="text"
          id="nome"
          name="nome"
          class="form-control"
          required
          [(ngModel)]="usuarioSelecionado.nome"
        />
      </div>

      <div class="form-group">
        <label for="email">Email:</label>
        <input
          type="email"
          id="email"
          name="email"
          class="form-control"
          required
          [(ngModel)]="usuarioSelecionado.email"
        />
      </div>

      <button type="submit" class="btn btn-success">
        Atualizar Usuário
      </button>
    </form>

    <button
      class="btn btn-danger mt-3"
      (click)="excluirUsuario(usuarioSelecionado.id)"
    >
      Excluir Usuário
    </button>
  </div>
</div>

